<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>miso_daily | Stock Brief</title>
  <meta name="description" content="miso_daily - ì£¼ì‹ ì†Œì‹ì„ ê¹”ë”í•˜ê²Œ ëª¨ì•„ë³´ëŠ” ë°ì¼ë¦¬ ë¸Œë¦¬í•‘" />

  <!-- Firebase SDK -->
  <script type="module">
    // Firebase configuration
    // TODO: Replace with your Firebase project config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // Firebase SDKëŠ” CDNì—ì„œ ë¡œë“œ
    window.FIREBASE_CONFIG = firebaseConfig;
  </script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <style>
    :root{
      --bg:#0b0d12;
      --panel:#121622;
      --panel2:#0f1320;
      --text:#e9edf6;
      --muted:#a9b3c7;
      --line:rgba(255,255,255,.08);

      /* ì§„í•œ ì˜¤ë Œì§€ í¬ì¸íŠ¸ */
      --accent:#ff6a00;
      --accent2:#ff8a3d;

      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --radius2: 14px;
      --max: 1120px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Noto Sans KR", Arial, sans-serif;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(255,106,0,.18), transparent 60%),
        radial-gradient(900px 600px at 95% 10%, rgba(255,138,61,.10), transparent 55%),
        linear-gradient(180deg, #07080c 0%, var(--bg) 40%, #07080c 100%);
      letter-spacing:-0.2px;
    }

    a{ color:inherit; text-decoration:none; }
    .wrap{ max-width:var(--max); margin:0 auto; padding:28px 18px 60px; }

    /* Topbar */
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      background:rgba(18,22,34,.66);
      border:1px solid var(--line);
      border-radius:var(--radius);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      position:sticky; top:14px; z-index:10;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      min-width: 230px;
    }
    .logo{
      width:42px; height:42px; border-radius:14px;
      background: linear-gradient(135deg, var(--accent) 0%, #ffb07a 45%, rgba(255,106,0,.18) 100%);
      display:grid; place-items:center;
      box-shadow: 0 10px 22px rgba(255,106,0,.20);
      border:1px solid rgba(255,255,255,.16);
    }
    .logo svg{ filter: drop-shadow(0 6px 10px rgba(0,0,0,.35)); }
    .brand .title{
      display:flex; flex-direction:column; line-height:1.05;
    }
    .brand .title strong{ font-size:16px; }
    .brand .title span{ font-size:12px; color:var(--muted); margin-top:4px; }

    .actions{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end;
    }
    .chip{
      display:flex; gap:8px; align-items:center;
      padding:10px 12px;
      background: rgba(255,255,255,.04);
      border:1px solid var(--line);
      border-radius:999px;
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }
    .chip b{ color:var(--text); font-weight:600; }
    .btn{
      cursor:pointer;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color:var(--text);
      font-weight:600;
      transition:.15s transform, .15s background, .15s border;
      display:inline-flex; align-items:center; gap:8px;
    }
    .btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.14); }
    .btn.primary{
      background: linear-gradient(135deg, rgba(255,106,0,.95), rgba(255,138,61,.92));
      border-color: rgba(255,255,255,.12);
      color:#1a120b;
      box-shadow: 0 10px 22px rgba(255,106,0,.22);
    }
    .btn.primary:hover{ transform: translateY(-1px); filter:saturate(1.05); }

    /* Layout grid */
    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      margin-top:16px;
    }
    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
      .brand{ min-width:auto; }
    }

    /* Panels */
    .panel{
      background: rgba(18,22,34,.72);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .panel .hd{
      padding:16px 16px 12px;
      border-bottom:1px solid var(--line);
      display:flex; justify-content:space-between; align-items:flex-end; gap:10px;
    }
    .panel .hd h2{
      margin:0;
      font-size:15px;
      letter-spacing:-.2px;
    }
    .panel .hd .sub{
      color:var(--muted);
      font-size:12px;
      line-height:1.25;
    }
    .panel .bd{ padding:16px; }

    /* Market snapshot */
    .snap{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
    }
    .snap-wrap{
      position:relative;
    }
    .snap-nav{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      width:34px;
      height:34px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(8,10,16,.75);
      color:var(--text);
      display:grid;
      place-items:center;
      cursor:pointer;
      transition:.12s transform, .12s opacity, .12s background;
      z-index:2;
    }
    .snap-nav:hover{ transform: translateY(-50%) scale(1.03); background: rgba(255,255,255,.06); }
    .snap-nav.hidden{ opacity:0; pointer-events:none; }
    .snap-nav.prev{ left:6px; }
    .snap-nav.next{ right:6px; }
    .snap--slider{
      display:flex;
      overflow-x:auto;
      scroll-snap-type:x mandatory;
      -webkit-overflow-scrolling: touch;
      padding: 2px 6px 8px;
    }
    .snap--slider .kpi{
      flex: 0 0 calc((100% - 30px) / 4);
      scroll-snap-align:start;
    }
    @media (max-width: 980px){
      .snap--slider .kpi{ flex-basis: calc((100% - 10px) / 2); }
    }
    @media (max-width: 600px){
      .snap--slider .kpi{ flex-basis: 80%; }
    }
    @media (max-width: 780px){
      .snap{ grid-template-columns: repeat(2, 1fr); }
    }
    .kpi{
      padding:12px;
      border:1px solid var(--line);
      border-radius: var(--radius2);
      background: rgba(0,0,0,.18);
    }
    .kpi .name{ color:var(--muted); font-size:12px; display:flex; align-items:center; gap:8px; }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(255,255,255,.25);
    }
    .kpi .val{ margin-top:10px; font-size:18px; font-weight:750; letter-spacing:-.4px; }
    .kpi .chg{ margin-top:6px; font-family:var(--mono); font-size:12px; color:var(--muted); }
    .up{ color: #7CFFA8; }
    .down{ color: #FF7C7C; }

    /* Headlines */
    .toolbar{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      margin-bottom:10px;
    }
    .search{
      flex: 1 1 240px;
      display:flex; align-items:center; gap:8px;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius: 14px;
      background: rgba(0,0,0,.18);
    }
    .search input{
      width:100%;
      border:0; outline:0;
      background:transparent;
      color:var(--text);
      font-size:13px;
    }
    .pill{
      padding:8px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-size:12px;
      cursor:pointer;
      transition:.12s;
      user-select:none;
    }
    .pill.active{
      background: rgba(255,106,0,.16);
      border-color: rgba(255,106,0,.38);
      color: var(--text);
    }

    .cards{
      display:flex; flex-direction:column; gap:10px;
    }
    .cards.scrollable{
      overflow:auto;
      scrollbar-gutter: stable;
      padding-right:4px;
    }
    .card{
      padding:14px 14px;
      border:1px solid var(--line);
      border-radius: var(--radius2);
      background: rgba(0,0,0,.18);
      display:grid;
      grid-template-columns: 1fr auto;
      gap:10px;
      transition: .15s transform, .15s border, .15s background;
    }
    .card:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
    }
    .card h3{
      margin:0;
      font-size:14px;
      letter-spacing:-.2px;
      line-height:1.35;
    }
    .card p{
      margin:8px 0 0;
      color: var(--muted);
      font-size:12px;
      line-height:1.5;
    }
    .meta{
      display:flex; flex-direction:column; gap:8px; align-items:flex-end;
      min-width: 120px;
    }
    .badge{
      font-size:11px;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,106,0,.35);
      background: rgba(255,106,0,.12);
      color: var(--text);
      white-space:nowrap;
    }
    .time{
      font-size:11px;
      color: var(--muted);
      font-family: var(--mono);
      white-space:nowrap;
    }
    .source{
      font-size:11px;
      color: rgba(255,255,255,.72);
      opacity:.9;
      white-space:nowrap;
    }

    /* Right side tools */
    .stack{ display:flex; flex-direction:column; gap:16px; }

    textarea{
      width:100%;
      min-height: 170px;
      resize: vertical;
      border-radius: 14px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.18);
      color: var(--text);
      padding:12px;
      font-family: var(--mono);
      font-size:12px;
      line-height:1.45;
      outline:none;
    }
    .hint{
      margin-top:10px;
      color:var(--muted);
      font-size:12px;
      line-height:1.45;
    }
    .row{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:10px;
    }
    .small{
      font-size:12px;
      color:var(--muted);
    }
    .hr{
      height:1px; background:var(--line); margin:14px 0;
    }

    /* Toast */
    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(18,22,34,.88);
      border:1px solid rgba(255,255,255,.12);
      padding:10px 12px;
      border-radius: 999px;
      box-shadow: var(--shadow);
      color: var(--text);
      font-size:12px;
      opacity:0;
      pointer-events:none;
      transition:.18s opacity, .18s transform;
      z-index: 50;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-2px);
    }

    footer{
      margin-top:18px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
      opacity:.85;
    }
    .accent{
      color: var(--accent2);
      font-weight:700;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M5 15c3-7 6-8 9-8 4 0 6 3 6 6 0 4-3 6-7 6-3 0-6-2-8-4Z" stroke="rgba(20,12,6,.85)" stroke-width="2" stroke-linecap="round"/>
            <path d="M7 10h4" stroke="rgba(20,12,6,.85)" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="title">
          <strong>miso_daily</strong>
          <span id="todayLabel">Daily Stock Brief</span>
        </div>
      </div>

      <div class="actions">
        <div class="chip" title="ë¡œì»¬ ë°ì´í„° ê¸°ì¤€">
          <span>ì—…ë°ì´íŠ¸</span>
          <b id="updatedAt">â€”</b>
        </div>
        <button class="btn" id="btnCopyDigest" title="ì˜¤ëŠ˜ ë¸Œë¦¬í•‘ ë¬¸ì¥ ë³µì‚¬">
          ğŸ“‹ ë¸Œë¦¬í•‘ ë³µì‚¬
        </button>
        <button class="btn primary" id="btnReset" title="ìƒ˜í”Œ ë°ì´í„°ë¡œ ì´ˆê¸°í™”">
          âœ¨ ìƒ˜í”Œ ë¶ˆëŸ¬ì˜¤ê¸°
        </button>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT -->
      <section class="panel">
        <div class="hd">
          <div>
            <h2>ì‹œì¥ ìŠ¤ëƒ…ìƒ·</h2>
            <div class="sub">ì§€í‘œëŠ” ìš°ì¸¡ ì…ë ¥(JSON)ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.</div>
          </div>
          <div class="sub"><span class="accent">ì§„í•œ ì˜¤ë Œì§€</span> í¬ì¸íŠ¸ UI</div>
        </div>

        <div class="bd">
          <div class="snap-wrap" id="snapWrap">
            <button class="snap-nav prev hidden" id="snapPrev" aria-label="ì´ì „ ì§€í‘œ ë³´ê¸°">â€¹</button>
            <div class="snap" id="snapshot"></div>
            <button class="snap-nav next hidden" id="snapNext" aria-label="ë‹¤ìŒ ì§€í‘œ ë³´ê¸°">â€º</button>
          </div>

          <div class="hr"></div>

          <div class="hd" style="padding:0 0 10px;border:0;">
            <div>
              <h2>ì˜¤ëŠ˜ì˜ í—¤ë“œë¼ì¸</h2>
              <div class="sub">ê²€ìƒ‰/í•„í„°ë¡œ ë¹ ë¥´ê²Œ ì •ë¦¬</div>
            </div>
          </div>

          <div class="toolbar">
            <div class="search" role="search">
              ğŸ” <input id="q" placeholder="í‚¤ì›Œë“œ ê²€ìƒ‰ (ì˜ˆ: ì‹¤ì , CPI, AI, ë°˜ë„ì²´)" autocomplete="off" />
            </div>
            <div class="pill active" data-filter="all">ì „ì²´</div>
            <div class="pill" data-filter="macro">ê±°ì‹œê²½ì œ</div>
            <div class="pill" data-filter="earnings">ì‹¤ì </div>
            <div class="pill" data-filter="tech">í…Œí¬</div>
            <div class="pill" data-filter="energy">ì—ë„ˆì§€</div>
            <div class="pill" data-filter="semiconductor">ë°˜ë„ì²´</div>
            <div class="pill" data-filter="ai">ì¸ê³µì§€ëŠ¥</div>
            <div class="pill" data-filter="bio">ë°”ì´ì˜¤</div>
            <div class="pill" data-filter="auto">ìë™ì°¨</div>
            <div class="pill" data-filter="aerospace">ìš°ì£¼í•­ê³µ/ë°©ì‚°</div>
            <div class="pill" data-filter="finance">ê¸ˆìœµ/ì€í–‰</div>
            <div class="pill" data-filter="robot">ë¡œë´‡</div>
            <div class="pill" data-filter="steel">ì² ê°•</div>
            <div class="pill" data-filter="chemical">í™”í•™</div>
          </div>

          <div class="cards" id="cards"></div>
        </div>
      </section>

      <!-- RIGHT -->
      <aside class="stack">
        <section class="panel">
          <div class="hd">
            <div>
              <h2>ì½˜í…ì¸  ì…ë ¥</h2>
              <div class="sub">ë‰´ìŠ¤/ì§€í‘œë¥¼ JSONìœ¼ë¡œ ë¶™ì—¬ë„£ìœ¼ë©´ ìë™ ë°˜ì˜</div>
            </div>
          </div>
          <div class="bd">
            <textarea id="jsonInput" spellcheck="false"></textarea>
            <div class="row">
              <button class="btn primary" id="btnApply">ì ìš©</button>
              <button class="btn" id="btnFormat">ì •ë¦¬(í¬ë§·)</button>
              <button class="btn" id="btnCopyJson">JSON ë³µì‚¬</button>
            </div>
            <div class="hint">
              <div class="small">í˜•ì‹</div>
              <div class="small">- snapshot: [{ name, value, change, changePct }]</div>
              <div class="small">- headlines: [{ title, summary, tag, source, timeISO, url? }]</div>
            </div>
          </div>
        </section>

        <section class="panel">
          <div class="hd">
            <div>
              <h2>ì¹´ì¹´ì˜¤í†¡ìš© ì˜¤ëŠ˜ ë¸Œë¦¬í•‘</h2>
              <div class="sub">1ì¤„ 20~35ì ëŠë‚Œìœ¼ë¡œ ìë™ ìƒì„±</div>
            </div>
          </div>
          <div class="bd">
            <div class="small" style="margin-bottom:10px;color:var(--muted);">
              â€» íˆ¬ì ì¡°ì–¸/ê³¼ì¥ ì—†ì´, íë¦„ ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬
            </div>
            <textarea id="digest" readonly></textarea>
            <div class="row">
              <button class="btn" id="btnCopyDigest2">ğŸ“© ë³µì‚¬</button>
              <button class="btn" id="btnShorten">âœ‚ï¸ ë” ì§§ê²Œ</button>
            </div>
          </div>
        </section>
      </aside>
    </div>

    <footer>
      Â© <span id="year"></span> <span class="accent">miso_daily</span> â€” ë¡œì»¬ í…œí”Œë¦¿ (API ì—°ê²° ì—†ì´ë„ ë™ì‘)
    </footer>
  </div>

  <div class="toast" id="toast">ë³µì‚¬ ì™„ë£Œ</div>

  <script>
    // ---------- Utils ----------
    const $ = (s) => document.querySelector(s);
    const $$ = (s) => Array.from(document.querySelectorAll(s));

    function toast(msg="ì™„ë£Œ"){
      const t = $("#toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(() => t.classList.remove("show"), 1200);
    }

    function fmtNum(n){
      if (n === null || n === undefined || n === "") return "â€”";
      const num = Number(n);
      if (Number.isNaN(num)) return String(n);
      return num.toLocaleString("en-US");
    }

    function fmtSigned(n){
      const num = Number(n);
      if (Number.isNaN(num)) return String(n ?? "â€”");
      const sign = num > 0 ? "+" : "";
      return sign + num.toLocaleString("en-US");
    }

    function fmtPct(n){
      const num = Number(n);
      if (Number.isNaN(num)) return String(n ?? "â€”");
      const sign = num > 0 ? "+" : "";
      return sign + num.toFixed(2) + "%";
    }

    function relTime(iso){
      try{
        const d = new Date(iso);
        const now = new Date();
        const diff = Math.floor((now - d) / 60000); // minutes
        if (diff < 1) return "ë°©ê¸ˆ";
        if (diff < 60) return diff + "ë¶„ ì „";
        const h = Math.floor(diff/60);
        if (h < 24) return h + "ì‹œê°„ ì „";
        const day = Math.floor(h/24);
        return day + "ì¼ ì „";
      }catch(e){
        return "â€”";
      }
    }

    function todayKSTLabel(){
      // ë¸Œë¼ìš°ì € ë¡œì»¬ ê¸°ì¤€(ëŒ€ë¶€ë¶„ KST). í•„ìš”ì‹œ Intlë¡œ KST ê³ ì •ë„ ê°€ëŠ¥.
      const d = new Date();
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,"0");
      const da = String(d.getDate()).padStart(2,"0");
      return `${y}.${m}.${da}`;
    }

    // ---------- Sample Data ----------
    const sample = {
      updatedAtISO: new Date().toISOString(),
      snapshot: [
        { name:"KOSPI", value: 2580.45, change: +22.35, changePct: +0.87 },
        { name:"KOSDAQ", value: 745.82, change: -3.15, changePct: -0.42 },
        { name:"NASDAQ", value: 16420.15, change: +98.22, changePct: +0.60 },
        { name:"S&P 500", value: 4925.88, change: +24.16, changePct: +0.49 },
        { name:"ì›/ë‹¬ëŸ¬", value: 1345.20, change: -5.80, changePct: -0.43 },
        { name:"í•œì€ ê¸°ì¤€ê¸ˆë¦¬", value: 2.50, change: 0, changePct: 0 },
      ],
      headlines: [
        // ë°˜ë„ì²´ (5ê°œ)
        {
          title:"ì‚¼ì„±Â·SKí•˜ì´ë‹‰ìŠ¤ ì‹œì´, ä¸­ í…ì„¼íŠ¸Â·ì•Œë¦¬ë°”ë°” ì¶”ì›”",
          summary:"2ì›” 3ì¼ ë¸”ë£¸ë²„ê·¸ ë³´ë„. AI ì¸í”„ë¼ íˆ¬ì ì—´í’ìœ¼ë¡œ K-ë°˜ë„ì²´ ê³µê¸‰ë§ ì¤‘ì‹¬ ë¶€ìƒ.",
          tag:"semiconductor",
          source:"ì„œìš¸ì‹ ë¬¸",
          timeISO: new Date(Date.now()-1000*60*45).toISOString(),
          url:""
        },
        {
          title:"2026ë…„ ì˜ì—…ìµ 200ì¡° ì „ë§ í™•ì‚°â€¦ì‚¼ì„± 161ì¡°Â·í•˜ì´ë‹‰ìŠ¤ 135ì¡°",
          summary:"ë³´ìˆ˜ì  ì„¤ë¹„íˆ¬ìë¡œ ê³µê¸‰ì œì•½ ì§€ì†. HBMÂ·DRAMÂ·NAND ìƒì‚°ëŠ¥ë ¥ ì‚¬ì‹¤ìƒ ë§¤ì§„.",
          tag:"semiconductor",
          source:"ë¹„ì¦ˆë‹ˆìŠ¤í¬ìŠ¤íŠ¸",
          timeISO: new Date(Date.now()-1000*60*90).toISOString(),
          url:""
        },
        {
          title:"DRAM ê°€ê²© 1ë…„ìƒˆ 8.5ë°° í­ë“±â€¦$1.35â†’$11.5",
          summary:"ì‚°ì—…ë¶€ ë°œí‘œ. 2025ë…„ ë°˜ë„ì²´ ëŒ€ë€ ì—¬íŒŒë¡œ AI ì„œë²„ ìˆ˜ìš” í­ì¦ ì§€ì†.",
          tag:"semiconductor",
          source:"ê¸€ë¡œë²Œì´ì½”ë…¸ë¯¹",
          timeISO: new Date(Date.now()-1000*60*120).toISOString(),
          url:""
        },
        {
          title:"SKí•˜ì´ë‹‰ìŠ¤ ì˜ì—…ì´ìµë¥  58% ë‹¬ì„±â€¦TSMC 54% ë„˜ì–´",
          summary:"4ë¶„ê¸° ì‹¤ì  ë°œí‘œ. ì‹ ì œí’ˆÂ·ì„±ëŠ¥ ê²½ìŸìœ¼ë¡œ K-ë°˜ë„ì²´ ìŠˆí¼ ì‚¬ì´í´ êµ³íˆê¸°.",
          tag:"semiconductor",
          source:"ì„œìš¸ì‹ ë¬¸",
          timeISO: new Date(Date.now()-1000*60*150).toISOString(),
          url:""
        },
        {
          title:"ì‚¼ì„±ì „ì, 2026ë…„ ë©”ëª¨ë¦¬ ê³µê¸‰ ë¶€ì¡± ê²½ê³ ",
          summary:"DSë¶€ë¬¸ VP ì„±ëª…. ëª¨ë“  ë©”ëª¨ë¦¬ ì œí’ˆ ê³µê¸‰ ë¶€ì¡± ì§€ì†. ç¾ ê´€ì„¸ ì••ë°•ë„ ë³€ìˆ˜.",
          tag:"semiconductor",
          source:"CIO Korea",
          timeISO: new Date(Date.now()-1000*60*180).toISOString(),
          url:""
        },
        // AI (5ê°œ)
        {
          title:"AI í”„ë¼ì´ë²„ì‹œ ë¯¼Â·ê´€ ì •ì±…í˜‘ì˜íšŒ 2ì›” ì¶œë²”",
          summary:"ì—ì´ì „íŠ¸Â·í”¼ì§€ì»¬AI í™•ì‚° ëŒ€ì‘. ë°ì´í„° ì²˜ë¦¬Â·ë¦¬ìŠ¤í¬ ê´€ë¦¬Â·ì •ë³´ì£¼ì²´ ê¶Œë¦¬ 3ê°œ ë¶„ê³¼.",
          tag:"ai",
          source:"ì •ì±…ë¸Œë¦¬í•‘",
          timeISO: new Date(Date.now()-1000*60*60).toISOString(),
          url:""
        },
        {
          title:"AI ê¸°ë³¸ë²• 1ì›” 22ì¼ ì „ë©´ ì‹œí–‰â€¦ìœ¤ë¦¬ ì›ì¹™ ëª…ì‹œ",
          summary:"ì¸ê°„ ì¡´ì—„ì„±Â·íˆ¬ëª…ì„±Â·ê³µì •ì„±Â·ì±…ì„ì„± í•µì‹¬. êµ­íšŒ 2025ë…„ í†µê³¼.",
          tag:"ai",
          source:"ë°ì¼ë¦¬ì—°í•©",
          timeISO: new Date(Date.now()-1000*60*210).toISOString(),
          url:""
        },
        {
          title:"ì¹´ì¹´ì˜¤ AI ì„œë¹„ìŠ¤ ì•½ê´€ 2ì›” 4ì¼ë¶€í„° ê°œì • ì ìš©",
          summary:"ì˜¤í”ˆAI íŒŒíŠ¸ë„ˆì‹­ ê¸°ë°˜ ì±—GPT ì—°ê³„. ì˜¤í”ˆAI ìœ„ê¸°ì„¤ë¡œ êµ­ë‚´ ì˜í–¥ ìš°ë ¤.",
          tag:"ai",
          source:"ë‰´ë°ì¼ë¦¬",
          timeISO: new Date(Date.now()-1000*60*240).toISOString(),
          url:""
        },
        {
          title:"ì¤‘ê¸°ë¶€ AI ì˜ˆì‚° 8ì²œì–µì› íˆ¬ì… ë³¸ê²©í™”",
          summary:"AIÂ·ë”¥í…Œí¬ íˆ¬ì, ì œì¡° AX, ìŠ¤íƒ€íŠ¸ì—… ìœ¡ì„±. ICT R&D 1.67ì¡° 24.3% ì¦ì•¡.",
          tag:"ai",
          source:"ì •ì±…ë¸Œë¦¬í•‘",
          timeISO: new Date(Date.now()-1000*60*270).toISOString(),
          url:""
        },
        {
          title:"2026 ìƒì„±í˜• AI, IT ì „ëµ ì „í™˜ ì£¼ë„ ì „ë§",
          summary:"ì „ì‚¬ì  í™œìš©Â·ì—…ë¬´ ìë™í™” í™•ì‚°. ì—ì´ì „íŠ¸ AIÂ·í”¼ì§€ì»¬ AI ë³¸ê²© ë„ì… ì˜ˆìƒ.",
          tag:"ai",
          source:"CIO Korea",
          timeISO: new Date(Date.now()-1000*60*300).toISOString(),
          url:""
        },
        // ë°”ì´ì˜¤ (5ê°œ)
        {
          title:"ì‚¼ì„±ë°”ì´ì˜¤Â·ì…€íŠ¸ë¦¬ì˜¨, ç¾ ê³µì¥ ì¸ìˆ˜ë¡œ 'ê´€ì„¸ ë™ë§¹'",
          summary:"ì†¡ë„-ë¡ë¹Œ, ì¸ì²œ-ë¸Œëœì¹˜ë²„ê·¸ ì´ì›í™” ìƒì‚°ì²´ê³„. ê¸€ë¡œë²Œ CDMO í™•ì¥ ë³¸ê²©í™”.",
          tag:"bio",
          source:"ë°ì¼ë¦¬íŒœ",
          timeISO: new Date(Date.now()-1000*60*330).toISOString(),
          url:""
        },
        {
          title:"ì‚¼ì„±ë°”ì´ì˜¤ ì‹œì´ 78ì¡° ìœ ì§€â€¦ê¸€ë¡œë²Œ 3ìœ„",
          summary:"ì‚¼ì„±ì—í”¼ìŠ¤ ë¶„í•  í›„ì—ë„ ìœ ì‚¬ ìˆ˜ì¤€. ì„¸ê³„ ìµœëŒ€ ìƒì‚°ëŠ¥ë ¥ ë³´ìœ .",
          tag:"bio",
          source:"ë”ë°”ì´ì˜¤ë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*360).toISOString(),
          url:""
        },
        {
          title:"ì…€íŠ¸ë¦¬ì˜¨ ì‹œì´ 43ì¡° ë‹¬ì„±â€¦ì œì•½ë°”ì´ì˜¤ 2ìœ„",
          summary:"ê¸€ë¡œë²Œ 6ìœ„. ë°”ì´ì˜¤ì‹œë°€ëŸ¬ 11ì¢…â†’10ë…„ë‚´ 40ì—¬ì¢… í™•ëŒ€ ê³„íš.",
          tag:"bio",
          source:"ë”ë°”ì´ì˜¤ë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*390).toISOString(),
          url:""
        },
        {
          title:"ç¾ ìƒë¬¼ë³´ì•ˆë²• ë°œíš¨â€¦K-CDMO íƒˆì¤‘êµ­ ìˆ˜í˜œ ê¸°ëŒ€",
          summary:"ì¤‘êµ­ ë°”ì´ì˜¤ê¸°ì—… ê±°ë˜ ì œí•œ. ê¸€ë¡œë²Œ ì œì•½ì‚¬ ê³µê¸‰ë§ ì¬í¸ ìˆ˜ì£¼ ì „ë§.",
          tag:"bio",
          source:"ë”ë°”ì´ì˜¤ë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*420).toISOString(),
          url:""
        },
        {
          title:"2026 ë°”ì´ì˜¤ ì¦ì‹œ 'ì„ íƒì  ë°˜ë“±'â€¦í›„ê¸° ì„ìƒ ì§‘ì¤‘",
          summary:"CDMO ì„¤ë¹„ í™•ì¥ ê°€ë™. í•´ì™¸ ìŠ¹ì¸Â·ì„ìƒ ê²°ê³¼ ì´ë²¤íŠ¸ ì¤‘ì‹¬ íˆ¬ì.",
          tag:"bio",
          source:"ë°”ì´ì˜¤íƒ€ì„ì¦ˆ",
          timeISO: new Date(Date.now()-1000*60*450).toISOString(),
          url:""
        },
        // ìë™ì°¨ (5ê°œ)
        {
          title:"ì„¤ ì—°íœ´ ë¬´ìƒì ê²€ 2ì›” 11~13ì¼â€¦ì „ê¸°ì°¨ ë°°í„°ë¦¬ë„",
          summary:"KAMA ì£¼ê´€. í˜„ëŒ€Â·ê¸°ì•„Â·GMÂ·ë¥´ë…¸Â·KGëª¨ë¹Œë¦¬í‹° 5ê°œì‚¬ ì°¸ì—¬. ê³ ì „ì•• ëƒ‰ê°ìˆ˜ ì ê²€.",
          tag:"auto",
          source:"ì´ì½”ë…¸ë¯¹ë°ê¸€",
          timeISO: new Date(Date.now()-1000*60*75).toISOString(),
          url:""
        },
        {
          title:"í˜„ëŒ€ì°¨ ì•„ì´ì˜¤ë‹‰7, 1íšŒ ì¶©ì „ 500km ëª©í‘œ ê°œë°œ",
          summary:"2026ë…„ ì—­ëŒ€ê¸‰ ì‹ ì°¨ ë¼ì¸ì—…. ëŒ€í˜• SUV ì„¸ê·¸ë¨¼íŠ¸ ê²½ìŸë ¥ í™•ë³´.",
          tag:"auto",
          timeISO: new Date(Date.now()-1000*60*105).toISOString(),
          url:""
        },
        {
          title:"'2026 ì˜¬í•´ì˜ ì°¨' ì‹œìƒì‹ 2ì›” ê°œìµœ",
          summary:"1ì›” 12ì¼ ì‹¤ì°¨ í…ŒìŠ¤íŠ¸ ì™„ë£Œ. ê¸°ì•„ PV5Â·EV5Â·EV4, í˜„ëŒ€ íŒ°ë¦¬ì„¸ì´ë“œ ê²½ìŸ.",
          tag:"auto",
          source:"ë‹¤ë‚˜ì™€",
          timeISO: new Date(Date.now()-1000*60*480).toISOString(),
          url:""
        },
        {
          title:"ë¥´ë…¸ì½”ë¦¬ì•„, 2ì›” í•œë‹¬ ìµœëŒ€ 1,580ë§Œì› í˜œíƒ",
          summary:"ì„¸ë‹‰ E-Tech ìì²´ ë³´ì¡°ê¸ˆ 800ë§Œì›. ì •ë¶€ ë³´ì¡°ê¸ˆ ëŒ€ì‹  ì¦‰ì‹œ í• ì¸ ë°©ì‹.",
          tag:"auto",
          source:"ì´ì½”ë…¸ë¯¹ë°ê¸€",
          timeISO: new Date(Date.now()-1000*60*510).toISOString(),
          url:""
        },
        {
          title:"2026ë…„ êµ­ë‚´ ìë™ì°¨ íŒë§¤ 169ë§ŒëŒ€ ì „ë§",
          summary:"ì „ë…„ ëŒ€ë¹„ 0.8% ì¦ê°€. ì œë„¤ì‹œìŠ¤ GV90, ê¸°ì•„ ì…€í† ìŠ¤ HEV ë“± 16ì¢… ì‹ ì°¨ íˆ¬ì….",
          tag:"auto",
          source:"ì•„ì´ë‰´ìŠ¤24",
          timeISO: new Date(Date.now()-1000*60*540).toISOString(),
          url:""
        },
        // ìš°ì£¼í•­ê³µ/ë°©ì‚° (5ê°œ)
        {
          title:"ìºë‚˜ë‹¤ 60ì¡° ì ìˆ˜í•¨ ì‚¬ì—…â€¦êµ­ë°©ì¥ê´€ 2ì›” 2ì¼ í•œí™” ë°©ë¬¸",
          summary:"ìŠ¤í‹°ë¸ í“¨ì–´ ì¥ê´€ í•œí™”ì˜¤ì…˜ ê±°ì œ í˜„ì¥ ì‹œì°°. 4ì¼ HDí˜„ëŒ€ íŒêµ R&Dì„¼í„°ë„.",
          tag:"aerospace",
          source:"ì•„ì£¼ê²½ì œ",
          timeISO: new Date(Date.now()-1000*60*135).toISOString(),
          url:""
        },
        {
          title:"KDDX 7.8ì¡° ì‚¬ì—…ì ì„ ì •â€¦HDí˜„ëŒ€-í•œí™” ê²½ìŸì…ì°°",
          summary:"2026ë…„ ë§ê¹Œì§€ ê³„ì•½ ì™„ë£Œ. 2030ë…„ê¹Œì§€ ì´ì§€ìŠ¤ êµ¬ì¶•í•¨ 6ì²™ ê±´ì¡°.",
          tag:"aerospace",
          source:"SPNì„œìš¸í‰ì–‘ë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*165).toISOString(),
          url:""
        },
        {
          title:"HDí˜„ëŒ€, LNG 2026ì„œ ì°¨ì„¸ëŒ€ ê°€ìŠ¤ì„  ê³µê°œ",
          summary:"2ì›” 5ì¼ê¹Œì§€ ì¹´íƒ€ë¥´ ë„í•˜. HDí•œêµ­ì¡°ì„ í•´ì–‘Â·HDí˜„ëŒ€ì¤‘ê³µì—… ì°¸ê°€.",
          tag:"aerospace",
          source:"ì„œìš¸ì‹ ë¬¸",
          timeISO: new Date(Date.now()-1000*60*195).toISOString(),
          url:""
        },
        {
          title:"ìš°ì£¼í•­ê³µì²­, 480ì–µ ê·œëª¨ ì‹¤ìš©í™” R&D ì°©ìˆ˜",
          summary:"2ì›” 2ì¼ ê°„ë‹´íšŒ. 2026~2030ë…„ ìš°ì£¼ê¸°ìˆ  ì‚¬ì—…í™”Â·ì°½ì—… ìƒíƒœê³„ ì¡°ì„±.",
          tag:"aerospace",
          source:"ì •ì±…ë¸Œë¦¬í•‘",
          timeISO: new Date(Date.now()-1000*60*225).toISOString(),
          url:""
        },
        {
          title:"í•œí™” í˜‘ë ¥ì‚¬ ìƒìƒí˜‘ë ¥ ì„ í¬ì‹â€¦ê¹€ê²½ìˆ˜ ìœ„ì›ì¥ ì°¸ì„",
          summary:"2ì›” 3ì¼ ì°½ì›3ì‚¬ì—…ì¥. ë°©ì‚°Â·ìš°ì£¼í•­ê³µ êµ­ê°€ì „ëµì‚°ì—… ì¤‘ì†Œê¸°ì—… ë™ë°˜ì„±ì¥.",
          tag:"aerospace",
          source:"ì˜¤ë§ˆì´ë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*255).toISOString(),
          url:""
        },
        // ê¸ˆìœµ/ì€í–‰ (5ê°œ)
        {
          title:"ì˜ˆê¸ˆ 22ì¡° ì¦ì‹œë¡œ ì´ë™â€¦í•œë‹¬ìƒˆ ìˆ˜ì‹  ê¸‰ê°",
          summary:"5ëŒ€ ì€í–‰ ìš”êµ¬ë¶ˆì˜ˆê¸ˆ 651ì¡°. 12ì›” ëŒ€ë¹„ 30.7ì¡° ê°ì†Œ. ì¦ì‹œ ìê¸ˆ ìœ ì….",
          tag:"finance",
          source:"ì„œìš¸ì‹ ë¬¸",
          timeISO: new Date(Date.now()-1000*60*285).toISOString(),
          url:""
        },
        {
          title:"4ëŒ€ ê¸ˆìœµ ì£¼ì£¼í™˜ì›ìœ¨ 50% ì‹œëŒ€â€¦KB 53% ì „ë§",
          summary:"KBÂ·ì‹ í•œÂ·í•˜ë‚˜ ë°°ë‹¹ í™•ëŒ€. PBR 1ë°° ëŒíŒŒ ê¸°ëŒ€. 2025ë…„ ìˆœì´ìµ 18.3ì¡°.",
          tag:"finance",
          source:"ë¹„ì¦ˆë‹ˆìŠ¤í¬ìŠ¤íŠ¸",
          timeISO: new Date(Date.now()-1000*60*315).toISOString(),
          url:""
        },
        {
          title:"ì€í–‰ëŒ€ë¦¬ì—… 2ë¶„ê¸° ë„ì…â€¦ìš°ì²´êµ­ì„œ ì€í–‰ ì„œë¹„ìŠ¤",
          summary:"ì „êµ­ 20ì—¬ê°œ ìš°ì²´êµ­ KBÂ·ì‹ í•œÂ·ìš°ë¦¬Â·í•˜ë‚˜ ëŒ€ì¶œìƒí’ˆ íŒë§¤. ê¸ˆìœµì ‘ê·¼ì„± ê°œì„ .",
          tag:"finance",
          source:"ì •ì±…ë¸Œë¦¬í•‘",
          timeISO: new Date(Date.now()-1000*60*345).toISOString(),
          url:""
        },
        {
          title:"ì€í–‰ì±„ ê¸ˆë¦¬ ìƒìŠ¹â€¦ì£¼ë‹´ëŒ€ 4.25~6.39% ë„ë‹¬",
          summary:"1ì£¼ì¼ìƒˆ 5ë…„ë¬¼ 3.675â†’3.715%. ì¦ì‹œ ìê¸ˆ ì´ë™ìœ¼ë¡œ ìˆ˜ì‹  ì••ë°•.",
          tag:"finance",
          source:"ì„œìš¸ì‹ ë¬¸",
          timeISO: new Date(Date.now()-1000*60*375).toISOString(),
          url:""
        },
        {
          title:"ìƒˆí¬ë§í™€ì”¨ëŒ€ì¶œ 5ì¡°ë¡œ í™•ëŒ€â€¦ê¸ˆë¦¬ 9.9~12.5%",
          summary:"2025ë…„ 4ì¡°â†’2026ë…„ 5ì¡°. ë¶ˆë²•ëŒ€ì¶œ í”¼í•´ë°©ì§€ëŒ€ì¶œ ê¸ˆë¦¬ 5~6% ì¸í•˜.",
          tag:"finance",
          source:"ì •ì±…ë¸Œë¦¬í•‘",
          timeISO: new Date(Date.now()-1000*60*405).toISOString(),
          url:""
        },
        // ë¡œë´‡ (5ê°œ)
        {
          title:"CES 2026, í˜„ëŒ€ì°¨ ì°¨ì„¸ëŒ€ ì•„í‹€ë¼ìŠ¤ ì²« ê³µê°œ",
          summary:"ë³´ìŠ¤í„´ë‹¤ì´ë‚´ë¯¹ìŠ¤ ì „ë™ì‹ ì•„í‹€ë¼ìŠ¤. 2028ë…„ ìƒì‚°í˜„ì¥ íˆ¬ì… êµ¬ìƒ.",
          tag:"robot",
          source:"í˜„ëŒ€ì°¨ê·¸ë£¹",
          timeISO: new Date(Date.now()-1000*60*435).toISOString(),
          url:""
        },
        {
          title:"HDí˜„ëŒ€ë¡œë³´í‹±ìŠ¤, ê°€ë°˜í•˜ì¤‘ 50kg í˜‘ë™ë¡œë´‡ í”„ë¡œí† íƒ€ì…",
          summary:"AW 2025 ê³µê°œ. 2026ë…„ ìƒë°˜ê¸° ì¶œì‹œ ì˜ˆì •. 35kgÂ·25kgë„ ë¼ì¸ì—….",
          tag:"robot",
          source:"KIDD",
          timeISO: new Date(Date.now()-1000*60*465).toISOString(),
          url:""
        },
        {
          title:"í˜„ëŒ€ì°¨ê·¸ë£¹, 2026ë…„ í‚¤ì›Œë“œ 'ë¡œë³´í‹±ìŠ¤' ê²½ì˜ ë³¸ê²©í™”",
          summary:"ì¸ë¥˜ë¥¼ ìœ„í•œ ì§„ë³´ ë¹„ì „. AI ë¡œë³´í‹±ìŠ¤ ìƒíƒœê³„ í™•ì¥ ì „ëµ ë°œí‘œ.",
          tag:"robot",
          source:"ì„œìš¸ê²½ì œ",
          timeISO: new Date(Date.now()-1000*60*495).toISOString(),
          url:""
        },
        {
          title:"í”¼ì§€ì»¬ AI ìƒìš©í™” ì›ë…„â€¦'ì¼í•´ì„œ ëˆ ë²„ëŠ” ë¡œë´‡'",
          summary:"CES 2026 í‰ê°€ 'ì „ì‹œâ†’íˆ¬ì… ë¬´ëŒ€'. ëª¨ë² ë“œ ë…ë¦½ì œì–´ 4ë¥œ í”Œë«í¼.",
          tag:"robot",
          source:"ì´ë¹„ì—”",
          timeISO: new Date(Date.now()-1000*60*525).toISOString(),
          url:""
        },
        {
          title:"HDí˜„ëŒ€ë¡œë³´í‹±ìŠ¤, 2030ë…„ê¹Œì§€ AI ë¡œë´‡ ì†”ë£¨ì…˜ ë‹¤ë³€í™”",
          summary:"2026ë…„ ìš©ì ‘ ìë™í™” ì¡°ì„ ì†Œ ì ìš©. ê°€ê³µÂ·ì¡°ë¦½Â·ê²€ì‚¬Â·ì œì¡°/ë¬¼ë¥˜ í™•ëŒ€.",
          tag:"robot",
          source:"ë¡œë´‡ì‹ ë¬¸",
          timeISO: new Date(Date.now()-1000*60*555).toISOString(),
          url:""
        },
        // ì² ê°• (5ê°œ)
        {
          title:"í˜„ëŒ€ì œì² , íƒ„ì†Œì €ê°ê°•íŒ ì„¸ê³„ ì²« ì–‘ì‚° 2ì›” 3ì¼",
          summary:"íƒ„ì†Œ ë°°ì¶œ 20% ê°ì†Œ. í•˜ì´ë¸Œë¦¬ë“œ ì „ê¸°ë¡œÂ·ê³ ë¡œ ê³µì •. í˜„ëŒ€Â·ê¸°ì•„ ì ìš©.",
          tag:"steel",
          source:"ì„œìš¸ì‹ ë¬¸",
          timeISO: new Date(Date.now()-1000*60*585).toISOString(),
          url:""
        },
        {
          title:"ì² ê°•ì—…ê³„ 'ì•ˆì „Â·íƒˆíƒ„ì†ŒÂ·AI' 2026ë…„ 3ëŒ€ ì „ëµ",
          summary:"ê¸€ë¡œë²Œ ê³¼ì‰ì„¤ë¹„Â·ë³´í˜¸ë¬´ì—­ ëŒ€ì‘. ê³ ë¶€ê°€ ì „í™˜Â·ì €íƒ„ì†Œ ê²½ìŸë ¥ í™•ë³´.",
          tag:"steel",
          source:"ì¤‘ì•™ì´ì½”ë…¸ë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*615).toISOString(),
          url:""
        },
        {
          title:"í¬ìŠ¤ì½”, K-ìŠ¤í‹¸ë²• ê¸°ë°˜ HyREX ë°ëª¨ í”ŒëœíŠ¸ ì§„í–‰",
          summary:"ê´‘ì–‘ ì „ê¸°ë¡œ ê±´ì„¤ ì°¨ì§ˆì—†ì´. ì €íƒ„ì†Œ ê°•ì¬ ì ê¸° ëŒ€ì‘ ê¸°ë°˜ ë§ˆë ¨.",
          tag:"steel",
          source:"í˜ë¡œíƒ€ì„ì¦ˆ",
          timeISO: new Date(Date.now()-1000*60*645).toISOString(),
          url:""
        },
        {
          title:"2ì›” ë¸Œëœë“œí‰íŒ í¬ìŠ¤ì½”í™€ë”©ìŠ¤ 1ìœ„â€¦í˜„ëŒ€ì œì²  2ìœ„",
          summary:"í¬ìŠ¤ì½”ì— í… 3ìœ„. í¬ìŠ¤ì½”í™€ë”©ìŠ¤ ì§€ìˆ˜ 396ë§Œ ì „ì›” ëŒ€ë¹„ 12.64% ê°ì†Œ.",
          tag:"steel",
          source:"ê³µì •í•œë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*675).toISOString(),
          url:""
        },
        {
          title:"ë¯¸êµ­ ì² ê°• ìƒì‚°ëŸ‰ 26ë…„ë§Œì— ì¼ë³¸ ì¶”ì›”",
          summary:"íŠ¸ëŸ¼í”„ ê´€ì„¸Â·AI ë°ì´í„°ì„¼í„° ê±´ì„¤ ë¶. ë³´í˜¸ë¬´ì—­Â·ì¸í”„ë¼ íˆ¬ì ìŒëŒì´.",
          tag:"steel",
          source:"ê¸€ë¡œë²Œì´ì½”ë…¸ë¯¹",
          timeISO: new Date(Date.now()-1000*60*705).toISOString(),
          url:""
        },
        // í™”í•™ (5ê°œ)
        {
          title:"LGí™”í•™, ë°°í„°ë¦¬Â·ì—ë„ˆì§€ í¬íŠ¸í´ë¦¬ì˜¤ ì „í™˜ ê°€ì†",
          summary:"ì–‘ê·¹ì¬ ë‚´ì¬í™”Â·ë°¸ë¥˜ì²´ì¸ ê°•í™”. ì‹œë…¸í™ê³¼ ì†Œë“ì´ì˜¨ì „ì§€ ì–‘ê·¹Â·ìŒê·¹ì¬ ê°œë°œ.",
          tag:"chemical",
          source:"ì´ì½”ë…¸ë¯¹ë°ì¼ë¦¬",
          timeISO: new Date(Date.now()-1000*60*735).toISOString(),
          url:""
        },
        {
          title:"ë¡¯ë°ì¼€ë¯¸ì¹¼ ëŒ€ì‚°ê³µì¥ 110ë§Œt íì‡„â€¦êµ¬ì¡°ì¡°ì • ë³¸ê²©",
          summary:"NCC ì¬í¸ì•ˆ ì œì¶œ. HDí˜„ëŒ€ì¼€ë¯¸ì¹¼ê³¼ ê³µë™ ëŒ€ì‚°ì‚°ë‹¨ ê°ì‚° ê³„íš.",
          tag:"chemical",
          source:"ë§¤ê±°ì§„í•œê²½",
          timeISO: new Date(Date.now()-1000*60*765).toISOString(),
          url:""
        },
        {
          title:"ë¡¯ë°í™”í•™êµ° \"2026ë…„, ë¯¸ë˜ ì„±ì¥ ëŒ€ì „í™˜ì˜ í•´\"",
          summary:"ì´ì˜ì¤€ ì´ê´„ëŒ€í‘œ ì‹ ë…„ì‚¬. ê¸€ë¡œë²Œ ê²½ìŸë ¥ ê°•í™”Â·ì¥ê¸° ì„±ì¥ ê¸°ë°˜ í™•ë³´.",
          tag:"chemical",
          source:"ì¸ë”ìŠ¤íŠ¸ë¦¬íˆ¬ë°ì´",
          timeISO: new Date(Date.now()-1000*60*795).toISOString(),
          url:""
        },
        {
          title:"LGí™”í•™, 2026ë…„ ìƒë°˜ê¸° ì‹¤ì  í•œíŒŒ ì§€ì† ì „ë§",
          summary:"êµ¬ì¡°ì¡°ì •Â·ì„¸ëŒ€êµì²´Â·ì¬ë¬´ê±´ì „ì„± ê°œì„  ë™ì‹œ ì¶”ì§„. ë°˜ë“± ì¤€ë¹„ ì°©ìˆ˜.",
          tag:"chemical",
          source:"ê¸ˆìœµê²½ì œí”ŒëŸ¬ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*825).toISOString(),
          url:""
        },
        {
          title:"1ì›” í™”í•™ ë¸Œëœë“œí‰íŒ ì—ì½”í”„ë¡œ 1ìœ„â€¦LGí™”í•™ 2ìœ„",
          summary:"í¬ìŠ¤ì½”í“¨ì²˜ì—  3ìœ„, ë¡¯ë°ì¼€ë¯¸ì¹¼ 4ìœ„. ë°°í„°ë¦¬ ì†Œì¬ ì—…ì²´ ìƒìœ„ê¶Œ.",
          tag:"chemical",
          source:"ê³µì •í•œë‰´ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*855).toISOString(),
          url:""
        },
        // ê±°ì‹œê²½ì œ (5ê°œ)
        {
          title:"í•œì€ ê¸°ì¤€ê¸ˆë¦¬ 2.5% 5íšŒ ì—°ì† ë™ê²°",
          summary:"1ì›” 15ì¼ í†µí™”ì •ì±…íšŒì˜. ì™„í™” ì‚¬ì´í´ ì¢…ë£Œ ì‹ í˜¸. ê°€ê³„ë¶€ì±„Â·í™˜ìœ¨ ìš°ë ¤.",
          tag:"macro",
          source:"í† ìŠ¤ë±…í¬",
          timeISO: new Date(Date.now()-1000*60*885).toISOString(),
          url:""
        },
        {
          title:"í•œì€ ì°¨ê¸° íšŒì˜ 2ì›” 26ì¼â€¦ì¶”ê°€ ì¸í•˜ ë¬¸êµ¬ ì‚­ì œ",
          summary:"ê¸ˆë¦¬ ì¸í•˜ ê³ ë ¤ ë¬¸êµ¬ ì œê±°. 4ì›” 10ì¼, 5ì›” 28ì¼, 7ì›” 16ì¼ ì¼ì •.",
          tag:"macro",
          source:"í† ìŠ¤ë±…í¬",
          timeISO: new Date(Date.now()-1000*60*915).toISOString(),
          url:""
        },
        {
          title:"2026ë…„ GDP ì„±ì¥ë¥  1.8% ì „ë§ ìœ ì§€",
          summary:"KIF ê²½ì œì „ë§. ì •ì±… ì…ì•ˆì ì˜ˆì¸¡. ê²½ê¸°ë‘”í™” ìš°ë ¤ ì† ì™„ë§Œí•œ íšŒë³µ.",
          tag:"macro",
          source:"í•œêµ­ê¸ˆìœµì—°êµ¬ì›",
          timeISO: new Date(Date.now()-1000*60*945).toISOString(),
          url:""
        },
        {
          title:"CPI 2.1%, ê·¼ì›ë¬¼ê°€ 2.0% ì „ë§",
          summary:"í•œì€ ë¬¼ê°€ ëª©í‘œ ë‹¬ì„± ê¶¤ë„. í—¤ë“œë¼ì¸Â·ê·¼ì› ëª¨ë‘ 2%ëŒ€ ì•ˆì •í™”.",
          tag:"macro",
          source:"íŠ¸ë ˆì´ë”©ì´ì½”ë…¸ë¯¹ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*975).toISOString(),
          url:""
        },
        {
          title:"ì—°ì¤€, ê¸ˆë¦¬ 3.5~3.75% ìœ ì§€â€¦6ì›” ì¸í•˜ ê´€ì¸¡",
          summary:"1ì›” FOMC. ì‹œì¥ì€ 25bp 6ì›” ì¸í•˜ ì˜ˆìƒ. ê³ ìš©Â·ì†Œë“Â·ì†Œë¹„ ë™ë°˜ ë‘”í™” ì£¼ëª©.",
          tag:"macro",
          source:"Investing.com",
          timeISO: new Date(Date.now()-1000*60*1005).toISOString(),
          url:""
        },
        // ì‹¤ì  (5ê°œ)
        {
          title:"ì…€ë ˆë¸Œë¼ì´íŠ¸, 2ì›” 11ì¼ 2025 íšŒê³„ì—°ë„ 4ë¶„ê¸° ì‹¤ì  ë°œí‘œ",
          summary:"ë¯¸ ì¦ì‹œ ê°œì¥ ì „ ê³µì‹œ. ì—°ê°„ ì¬ë¬´ ì‹¤ì  ë™ì‹œ ê³µê°œ.",
          tag:"earnings",
          source:"ë°ì¼ë¦¬ì—°í•©",
          timeISO: new Date(Date.now()-1000*60*1035).toISOString(),
          url:""
        },
        {
          title:"ë¡¯ë°ì—ë„ˆì§€ë¨¸í‹°ë¦¬ì–¼ì¦ˆ, 2ì›” 4ì¼ 4ë¶„ê¸° ì‹¤ì ì„¤ëª…íšŒ",
          summary:"ì„œìš¸ ì—¬ì˜ë„. êµ­ë‚´ ê¸°ê´€íˆ¬ìì ëŒ€ìƒ. ì˜ì—… ì ì •ì‹¤ì Â·ì‚¬ì—… í˜„í™©.",
          tag:"earnings",
          source:"ì´ë¹„ì—”",
          timeISO: new Date(Date.now()-1000*60*1065).toISOString(),
          url:""
        },
        {
          title:"í•œêµ­íƒ€ì´ì–´, 2ì›” 4ì¼ ì˜¤í›„ 3ì‹œ 30ë¶„ ì»¨í¼ëŸ°ìŠ¤ì½œ",
          summary:"ì• ë„ë¦¬ìŠ¤íŠ¸Â·ê¸°ê´€íˆ¬ìì ëŒ€ìƒ 2025ë…„ 4ë¶„ê¸° ì‹¤ì ì„¤ëª…íšŒ.",
          tag:"earnings",
          source:"ì´ë¹„ì—”",
          timeISO: new Date(Date.now()-1000*60*1095).toISOString(),
          url:""
        },
        {
          title:"í¬ìŠ¤ì½”ì¸í„°ë‚´ì…”ë„, 2ì›” 3ì¼ ì¼ë³¸ ë„ì¿„ IR",
          summary:"ì˜¤í›„ 2ì‹œ. í•´ì™¸ ê¸°ê´€íˆ¬ìì ëŒ€ìƒ 2025ë…„ ê²½ì˜ì‹¤ì  ë°œí‘œ.",
          tag:"earnings",
          source:"ì´ë¹„ì—”",
          timeISO: new Date(Date.now()-1000*60*1125).toISOString(),
          url:""
        },
        {
          title:"LGì „ì \"2026ë…„ ê°€ì „ ìˆ˜ìš” íšŒë³µ ì œí•œì \" ì „ë§",
          summary:"ì»¨í¼ëŸ°ìŠ¤ì½œ. ìƒë°˜ê¸° ì ì§„ì  íšŒë³µ, íšŒë³µí­ì€ í¬ì§€ ì•Šì„ ê²ƒ. íˆ¬íŠ¸ë™Â·êµ¬ë… ëŒ€ì‘.",
          tag:"earnings",
          source:"ì´íˆ¬ë°ì´",
          timeISO: new Date(Date.now()-1000*60*1155).toISOString(),
          url:""
        },
        // ì—ë„ˆì§€ (5ê°œ)
        {
          title:"LNG ê³µê¸‰ 2026ë…„ 7% ì¦ê°€â€¦ê°€ê²© í•˜ë½ ì „ë§",
          summary:"ë¯¸êµ­Â·ì¹´íƒ€ë¥´ ëŒ€ê·œëª¨ ì‹ ê·œ ì„¤ë¹„. 2026ë…„ ë§ ì´í›„ ê³µê¸‰>ìˆ˜ìš”ë¡œ ì „í™˜.",
          tag:"energy",
          source:"GSì¹¼í…ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*1185).toISOString(),
          url:""
        },
        {
          title:"ì„ìœ í™”í•™ NCC ê°ì‚° 18~25% ëª©í‘œ ì¶”ì§„",
          summary:"ì •ë¶€ êµ¬ì¡°ì¡°ì • ì§€ì›. ì—¬ìˆ˜Â·ëŒ€ì‚°Â·ìš¸ì‚° ì¬í¸ì•ˆ ì œì¶œ. ìƒë°˜ê¸° ì‹¤í–‰ ê´€ê±´.",
          tag:"energy",
          source:"GSì¹¼í…ìŠ¤",
          timeISO: new Date(Date.now()-1000*60*1215).toISOString(),
          url:""
        },
        {
          title:"ì¬ìƒì—ë„ˆì§€ íˆ¬ì í™•ëŒ€â€¦ì „ë ¥ë§ ì¬í¸ ê°€ì†",
          summary:"AIÂ·ë°˜ë„ì²´ ì „ë ¥ ìˆ˜ìš” ê¸‰ì¦. HVDC ì¼€ì´ë¸” í™•ì¶©Â·ê³„í†µ ì•ˆì •í™” ë³¸ê²© íˆ¬ì.",
          tag:"energy",
          source:"ì •ì±…ë¸Œë¦¬í•‘",
          timeISO: new Date(Date.now()-1000*60*1245).toISOString(),
          url:""
        },
        {
          title:"í–‡ë¹›ì†Œë“ë§ˆì„ 2026ë…„ 500ê°œ í™•ì‚°â€¦2030ë…„ 2,500ê°œ",
          summary:"ê¸°í›„ì—ë„ˆì§€í™˜ê²½ë¶€ ê³„íš. 2ì›” ì¤‘ ì¶”ì§„ë‹¨ ì¶œë²”. ì—ë„ˆì§€ëŒ€ì „í™˜ ì„±ê³¼ ì›ë…„.",
          tag:"energy",
          source:"ì •ì±…ë¸Œë¦¬í•‘",
          timeISO: new Date(Date.now()-1000*60*1275).toISOString(),
          url:""
        },
        {
          title:"ì •ìœ ì‚¬ 4ë¶„ê¸° ì‹¤ì  ê°œì„  ì „ë§â€¦ì„ìœ í™”í•™ì€ íë¦¼",
          summary:"ìœ ê°€ í•˜ë½ì—ë„ ë§ˆì§„ ë°©ì–´. í™”í•™ ë¶€ë¬¸ì€ ì—í‹¸ë Œ ìŠ¤í”„ë ˆë“œ ì†ìµë¶„ê¸°ì  ë¯¸ë‹¬.",
          tag:"energy",
          source:"KITA",
          timeISO: new Date(Date.now()-1000*60*1305).toISOString(),
          url:""
        }
      ]
    };

    // ---------- State ----------
    let state = structuredClone(sample);
    let activeFilter = "all";
    let query = "";

    // ---------- Renderers ----------
    function renderHeader(){
      $("#todayLabel").textContent = `Daily Stock Brief Â· ${todayKSTLabel()}`;
      $("#updatedAt").textContent = new Date(state.updatedAtISO).toLocaleString();
      $("#year").textContent = new Date().getFullYear();
    }

    function renderSnapshot(){
      const el = $("#snapshot");
      el.innerHTML = "";
      state.snapshot.forEach(item => {
        const updown = Number(item.changePct) >= 0 ? "up" : "down";
        const dotColor = Number(item.changePct) >= 0 ? "rgba(124,255,168,.9)" : "rgba(255,124,124,.9)";
        const card = document.createElement("div");
        card.className = "kpi";
        card.innerHTML = `
          <div class="name"><span class="dot" style="background:${dotColor}"></span>${item.name}</div>
          <div class="val">${fmtNum(item.value)}</div>
          <div class="chg ${updown}">${fmtSigned(item.change)} (${fmtPct(item.changePct)})</div>
        `;
        el.appendChild(card);
      });
      requestAnimationFrame(setupSnapshotSlider);
    }

    function passesFilter(h){
      if (activeFilter === "all") return true;
      return (h.tag || "").toLowerCase() === activeFilter;
    }

    function passesQuery(h){
      if (!query) return true;
      const t = (h.title + " " + (h.summary||"") + " " + (h.source||"")).toLowerCase();
      return t.includes(query.toLowerCase());
    }

    function renderCards(){
      const el = $("#cards");
      el.innerHTML = "";
      const filtered = state.headlines
        .filter(passesFilter)
        .filter(passesQuery)
        .sort((a,b)=> new Date(b.timeISO) - new Date(a.timeISO));

      if (filtered.length === 0){
        el.classList.remove("scrollable");
        el.style.maxHeight = "";
        el.innerHTML = `<div class="small" style="color:var(--muted);padding:8px 2px;">ê²°ê³¼ê°€ ì—†ì–´ìš”. ê²€ìƒ‰ì–´ë‚˜ í•„í„°ë¥¼ ë°”ê¿”ë³´ì„¸ìš”.</div>`;
        return;
      }

      filtered.forEach(h => {
        const tagLabel = ({
          macro:"ê±°ì‹œê²½ì œ",
          earnings:"ì‹¤ì ",
          tech:"í…Œí¬",
          energy:"ì—ë„ˆì§€",
          semiconductor:"ë°˜ë„ì²´",
          ai:"ì¸ê³µì§€ëŠ¥",
          bio:"ë°”ì´ì˜¤",
          auto:"ìë™ì°¨",
          aerospace:"ìš°ì£¼í•­ê³µ/ë°©ì‚°",
          finance:"ê¸ˆìœµ/ì€í–‰",
          robot:"ë¡œë´‡",
          steel:"ì² ê°•",
          chemical:"í™”í•™"
        }[h.tag] || (h.tag || "ê¸°íƒ€"));

        const card = document.createElement("a");
        card.className = "card";
        card.href = h.url && h.url.trim() ? h.url.trim() : "javascript:void(0)";
        card.target = h.url && h.url.trim() ? "_blank" : "_self";
        card.rel = "noopener";

        card.innerHTML = `
          <div>
            <h3>${escapeHtml(h.title)}</h3>
            <p>${escapeHtml(h.summary || "")}</p>
          </div>
          <div class="meta">
            <div class="badge">${tagLabel}</div>
            <div class="time">${relTime(h.timeISO)}</div>
            <div class="source">${escapeHtml(h.source || "")}</div>
          </div>
        `;

        el.appendChild(card);
      });
      requestAnimationFrame(() => updateCardsScroll(filtered.length));
    }

    function escapeHtml(str){
      return String(str ?? "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function setupSnapshotSlider(){
      const scroller = $("#snapshot");
      const prev = $("#snapPrev");
      const next = $("#snapNext");
      const useSlider = state.snapshot.length >= 4;

      scroller.classList.toggle("snap--slider", useSlider);

      if (!useSlider){
        prev.classList.add("hidden");
        next.classList.add("hidden");
        scroller.scrollLeft = 0;
        return;
      }

      if (!scroller.dataset.bound){
        scroller.addEventListener("scroll", () => updateSnapshotNav(), { passive: true });
        scroller.dataset.bound = "1";
      }

      updateSnapshotNav();
    }

    function updateSnapshotNav(){
      const scroller = $("#snapshot");
      const prev = $("#snapPrev");
      const next = $("#snapNext");
      const max = scroller.scrollWidth - scroller.clientWidth - 2;
      prev.classList.toggle("hidden", scroller.scrollLeft <= 2);
      next.classList.toggle("hidden", scroller.scrollLeft >= max);
    }

    function updateCardsScroll(filteredCount){
      const el = $("#cards");
      el.classList.remove("scrollable");
      el.style.maxHeight = "";

      if (activeFilter !== "all" || filteredCount <= 5) return;

      const cards = Array.from(el.children).filter((c) => c.classList.contains("card"));
      if (cards.length < 5) return;

      const gap = parseFloat(getComputedStyle(el).gap || "0");
      let height = 0;
      for (let i = 0; i < 5; i++){
        height += cards[i].offsetHeight;
      }
      height += gap * 4;

      el.style.maxHeight = height + "px";
      el.classList.add("scrollable");
    }

    // ---------- Digest ----------
    function buildDigest(compact=false){
      // 1) ì „ì²´ íë¦„ 3ì¤„ + ìš©ì–´ 1ê°œ + ê²°ë¡ 
      const top = [...state.headlines]
        .sort((a,b)=> new Date(b.timeISO) - new Date(a.timeISO))
        .slice(0,3);

      const flow = [
        "í•œì€ ê¸°ì¤€ê¸ˆë¦¬ ë™ê²°ë¡œ ì™„í™” ì‚¬ì´í´ ì¢…ë£Œ ì‹ í˜¸.",
        "ë°˜ë„ì²´Â·AI íˆ¬ì í™•ëŒ€ë¡œ ì‚°ì—… ì¬í¸ ê°€ì†í™”.",
        "ì‹¤ì  ì‹œì¦Œ ë³¸ê²©í™”, ì„ íƒì  ë°˜ë“± êµ­ë©´ ì§„ì…."
      ];

      // ì•„ì£¼ ë‹¨ìˆœí•œ ìš©ì–´(í•„ìš”ì‹œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ)
      const term = {
        word: "HBM(High Bandwidth Memory)",
        meaning: "ì´ˆê³ ëŒ€ì—­í­ ë©”ëª¨ë¦¬, AI ì„œë²„ í•µì‹¬ ë¶€í’ˆ",
        why: "AI ì¶”ë¡  ì‹œì¥ í™•ëŒ€ë¡œ ìˆ˜ìš” ê¸‰ì¦, ë°˜ë„ì²´ ì—…í™© í•µì‹¬ ì§€í‘œ"
      };

      const head = `ğŸ“Œ  ì˜¤ëŠ˜ì˜  miso_daily í—¤ë“œë¼ì¸ (${todayKSTLabel()}) ğŸ“…`;
      const lines = [];
      lines.push(head);
      lines.push("");
      lines.push("ğŸ§  ì‰½ê²Œ ìš”ì•½í•˜ê¸°");
      flow.forEach(s => lines.push(`- ${s}`));
      lines.push("");
      lines.push("ğŸ“š ê²½ì œ ìš©ì–´ 1ê°œ");
      lines.push(`- ìš©ì–´: ${term.word}`);
      lines.push(`- ëœ»: ${term.meaning}`);
      lines.push(`- ì™œ ì¤‘ìš”?: ${term.why}`);
      lines.push("");
      lines.push("âœ… ê²°ë¡ ");
      lines.push("- ê¸ˆë¦¬ ë™ê²° ì† ì‚°ì—…ë³„ êµ¬ì¡°ì¡°ì • ë³¸ê²©í™”. AIÂ·ë°˜ë„ì²´ ì¤‘ì‹¬ ì„ íƒì  íˆ¬ì êµ­ë©´.");

      if (!compact){
        lines.push("");
        lines.push("ğŸ— ì£¼ìš” ê¸°ì‚¬ 3ê°œ");
        top.forEach((h,i)=> {
          const one = `${i+1}) ${h.title}`;
          lines.push(`- ${trimTo(one, 38)}`);
        });
      } else {
        // ë” ì§§ê²Œ: í•µì‹¬ë§Œ
        const mini = [
          "í•œì€ ê¸°ì¤€ê¸ˆë¦¬ 2.5% ë™ê²° ìœ ì§€",
          "ë°˜ë„ì²´ 1,880ì–µå¼—Â·AI 8ì²œì–µ íˆ¬ì",
          "ì‹¤ì ì‹œì¦Œ ë³¸ê²©í™”, ì„ íƒì  ë°˜ë“±"
        ];
        return mini.map(s => `- ${s}`).join("\n");
      }

      return lines.join("\n");
    }

    function trimTo(s, max){
      s = String(s);
      if (s.length <= max) return s;
      return s.slice(0, max-1) + "â€¦";
    }

    // ---------- JSON Handling ----------
    function loadToTextarea(){
      $("#jsonInput").value = JSON.stringify(state, null, 2);
    }

    function applyFromTextarea(){
      try{
        const obj = JSON.parse($("#jsonInput").value);
        // minimal validation
        if (!obj.snapshot || !Array.isArray(obj.snapshot)) throw new Error("snapshot ë°°ì—´ì´ í•„ìš”í•©ë‹ˆë‹¤.");
        if (!obj.headlines || !Array.isArray(obj.headlines)) throw new Error("headlines ë°°ì—´ì´ í•„ìš”í•©ë‹ˆë‹¤.");

        obj.updatedAtISO = obj.updatedAtISO || new Date().toISOString();
        state = obj;

        renderAll();
        toast("ì ìš© ì™„ë£Œ");
      }catch(e){
        toast("JSON ì˜¤ë¥˜: " + (e.message || "í˜•ì‹ì„ í™•ì¸í•˜ì„¸ìš”"));
      }
    }

    function renderAll(){
      renderHeader();
      renderSnapshot();
      renderCards();
      $("#digest").value = buildDigest(false);
    }

    function startLiveRefresh(){
      setInterval(() => {
        renderHeader();
        renderCards();
      }, 60000);
    }

    // ---------- Events ----------
    function bind(){
      // filter pills
      $$(".pill").forEach(p => {
        p.addEventListener("click", () => {
          $$(".pill").forEach(x => x.classList.remove("active"));
          p.classList.add("active");
          activeFilter = p.dataset.filter;
          renderCards();
        });
      });

      $("#q").addEventListener("input", (e)=> {
        query = e.target.value.trim();
        renderCards();
      });

      $("#btnApply").addEventListener("click", applyFromTextarea);
      $("#btnFormat").addEventListener("click", ()=>{
        try{
          const obj = JSON.parse($("#jsonInput").value);
          $("#jsonInput").value = JSON.stringify(obj, null, 2);
          toast("ì •ë¦¬ ì™„ë£Œ");
        }catch{
          toast("JSON ì˜¤ë¥˜");
        }
      });

      $("#btnCopyJson").addEventListener("click", async ()=>{
        await navigator.clipboard.writeText($("#jsonInput").value);
        toast("JSON ë³µì‚¬ ì™„ë£Œ");
      });

      $("#btnCopyDigest").addEventListener("click", async ()=>{
        await navigator.clipboard.writeText($("#digest").value);
        toast("ë¸Œë¦¬í•‘ ë³µì‚¬ ì™„ë£Œ");
      });
      $("#btnCopyDigest2").addEventListener("click", async ()=>{
        await navigator.clipboard.writeText($("#digest").value);
        toast("ë¸Œë¦¬í•‘ ë³µì‚¬ ì™„ë£Œ");
      });

      $("#btnShorten").addEventListener("click", ()=>{
        $("#digest").value = buildDigest(true);
        toast("ì§§ê²Œ ë§Œë“¤ì—ˆì–´ìš”");
      });

      $("#btnReset").addEventListener("click", ()=>{
        state = structuredClone(sample);
        loadToTextarea();
        renderAll();
        toast("ìƒ˜í”Œ ë¡œë“œ ì™„ë£Œ");
      });

      $("#snapPrev").addEventListener("click", ()=>{
        const scroller = $("#snapshot");
        scroller.scrollBy({ left: -scroller.clientWidth, behavior: "smooth" });
      });
      $("#snapNext").addEventListener("click", ()=>{
        const scroller = $("#snapshot");
        scroller.scrollBy({ left: scroller.clientWidth, behavior: "smooth" });
      });
    }

    // ---------- Firebase Integration ----------
    let db = null;
    let unsubscribe = null;

    function initFirebase(){
      try {
        // Firebase ì´ˆê¸°í™” (ì´ë¯¸ ì„¤ì •ëœ ê²½ìš° ìŠ¤í‚µ)
        if (!firebase.apps.length && window.FIREBASE_CONFIG) {
          firebase.initializeApp(window.FIREBASE_CONFIG);
          db = firebase.firestore();
          console.log("Firebase initialized");

          // Firestore ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
          unsubscribe = db.collection('news').doc('latest')
            .onSnapshot((doc) => {
              if (doc.exists) {
                const data = doc.data();
                console.log("Real-time news update received:", new Date().toISOString());

                // state ì—…ë°ì´íŠ¸
                state = {
                  updatedAtISO: data.updatedAtISO || new Date().toISOString(),
                  snapshot: data.snapshot || state.snapshot,
                  headlines: data.headlines || state.headlines
                };

                // UI ì—…ë°ì´íŠ¸
                renderAll();
                loadToTextarea();
                toast("ë‰´ìŠ¤ê°€ ìë™ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤ ğŸ”„");
              }
            }, (error) => {
              console.error("Firestore listener error:", error);
            });
        } else {
          console.log("Firebase already initialized or config missing");
        }
      } catch (error) {
        console.error("Firebase initialization error:", error);
        // Firebase ì—°ê²° ì‹¤íŒ¨ì‹œ ë¡œì»¬ ìƒ˜í”Œ ë°ì´í„° ì‚¬ìš©
        console.log("Using local sample data");
      }
    }

    // ---------- Init ----------
      (function init(){
      state.updatedAtISO = new Date().toISOString();
      loadToTextarea();
      bind();
      renderAll();
      startLiveRefresh();

      // Firebase ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ í™œì„±í™”
      initFirebase();
    })();
  </script>
</body>
</html>
